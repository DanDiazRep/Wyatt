function asyncDownload(n){Promise.all([BABYLON.SceneLoader.ImportMeshAsync(null,baseUrl,n,scene).then(function(n){n=n.meshes;asyncMesh=n;for(var t=1;t<n.length;t++)n[t].receiveShadows=!0,n[t].actionManager=new BABYLON.ActionManager(scene),n[t].actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOverTrigger,function(){},!1))}),]).then(()=>{for(var n=1;n<currentMesh.length;n++)currentMesh[n].name!="Seat"&&(currentMesh[n].name!="Base"||dataDB.Name.includes("Stool"))||(asyncMesh[n]._material=currentMesh[n]._material),asyncMesh[n].isVisible=currentMesh[n].isVisible,currentMesh[n].dispose();currentMesh=asyncMesh})}function detectmob(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1}function priceCalculation(){for(var t,n=0;n<dataDB.Options.length;n++){for(t=0;t<dataDB.Options[n].Values.length;t++)dataDB.Options[n].Values[t].Active==!0&&(currentOptionPrice[n]=dataDB.Options[n].Values[t].Price);for(t=0;t<dataDB.Options[n].Values.length;t++)dataDB.Options[n].Values[t].Price-=currentOptionPrice[n];currentOptionsPDF=currentOptionPrice[n];totalPrice+=currentOptionPrice[n]}productPrice.textContent="$ "+totalPrice+".00"}function sendImg(n,t){var i=new XMLHttpRequest;i.open("POST","http://wyattapi.servexusinc.com/api/image",!0);i.setRequestHeader("Content-Type","application/json;charset=UTF-8");i.onreadystatechange=function(){i.readyState===4&&i.status===200&&t(!1,JSON.parse(i.responseText).Message);i.readyState===500&&t(!0,null)};i.send(JSON.stringify({data:n}))}function makeMyPDF(){vPortHeight=engine._gl.drawingBufferHeight;vPortWidth=engine._gl.drawingBufferWidth;var n=dataDB.PartNumber;setTimeout(function(){engine.setSize(1200,1920);scene.render();BABYLON.Tools.CreateScreenshotUsingRenderTarget(engine,photoCamera,{heigth:960,width:600},function(t){sendImg(t,function(t,i){dataDB.print=i;dataDB.totalPrice=totalPrice;dataDB.BackSize&&(dataDB.PartNumber=dataDB.PartNumber+"-"+backPartNumber.join(""));var r=new XMLHttpRequest;r.open("POST","http://wyattapi.servexusinc.com/api/pdf",!0);r.onreadystatechange=function(){r.readyState===4&&r.status===200&&($.LoadingOverlay("hide"),window.open("http://wyattapi.servexusinc.com/wwwroot/"+JSON.parse(r.responseText).Message,"_blank"));r.readyState===500&&$.LoadingOverlay("hide")};r.send(JSON.stringify(dataDB));dataDB.PartNumber=n})});engine.setSize(vPortWidth,vPortHeight)},500)}function takePhoto(){var n=new Image;n.src="/assets/layout/icons/Wyatt-Seating-Logo.png";vPortHeight=engine._gl.drawingBufferHeight;vPortWidth=engine._gl.drawingBufferWidth;engine.setSize(540,960);scene.render();BABYLON.Tools.CreateScreenshotUsingRenderTarget(engine,scene.activeCamera,{heigth:1920,width:1080,precision:2},function(t){watermark([t,n]).image(watermark.image.lowerRight(.5)).then(function(n){var t=document.createElement("a");t.download=dataDB.Name+".png";t.href=n.src;t.click()})});engine.setSize(vPortWidth,vPortHeight)}function seatCover(){seatPadPrice=0;$("#seatCoverRow")[0].hidden?($("#coverCheck")[0].checked=!1,$("#seatCoverRow").css("height","1.6vh")):$("#seatCoverRow").css("height","auto");var n=totalPrice;dataDB.SeatPad=!1;seatPadPrice=0;$("#coverCheck")[0].checked&&!$("#seatCoverRow")[0].hidden&&(seatPadPrice=90,n+=seatPadPrice,dataDB.SeatPad=!0);$("#coverCheck")[0].checked||$("#seatCoverRow")[0].hidden||(seatPadPrice=0,n+=seatPadPrice,dataDB.SeatPad=!1);productPrice.textContent="$ "+n+".00"}function materialStructureBuilding(n){var i,r,u,t,f;for($cardButton.text(dataDB.Options[n].Values[0].Name),i=$("<div>",{"class":"dropdown"}),$("#dropdownColGrades").append(i),r=$("<div>",{"class":"btn btn-info btn-sm dropdown-toggle",type:"button",id:"materialGrades","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),i.append(r),u=$("<div>",{"class":"dropdown-menu",id:"gradesDropdown","aria-labelledby":"dropdownMenuButton"}),i.append(u),t=0;t<dataDB.Options[n].Values.length;t++)f=$("<a>",{"class":"dropdown-item d-block",onClick:'materialCollectionCardBuildingAndEdition("'+n+","+dataDB.Options[n].Values[t].Name+'")',text:dataDB.Options[n].Values[t].Name,href:"#"}),u.append(f),dataDB.Options[n].Values[t].Active&&r.text(dataDB.Options[n].Values[t].Name);materialCollectionCardBuildingAndEdition(n+",")}function materialCollectionCardBuildingAndEdition(n){var v=n.split(","),t=v[0],s=v[1],f,a,c,e,r,h,u,i,o,l;if(document.getElementById("materialCollections")!=null){for(f=0;f<dataDB.Options[t].Values.length;f++)if(dataDB.Options[t].Values[f].Name==s)for($("#seatCoverRow")[0].hidden=!(parseInt(s[s.length-1])>1),$("#coverCheck")[0].checked=!1,seatCover(),dataDB.Options[t].Values[f].Active=!0,$("#materialGrades").text(dataDB.Options[t].Values[f].Name),$("#materialCollections").text(dataDB.Options[t].Values[f].Collections[0].Name),e=$("#collectionDropdown"),e.empty(),r=0;r<dataDB.Options[t].Values[f].Collections.length;r++)h=$("<a>",{"class":"dropdown-item",href:"#",id:dataDB.Options[t].Values[f].Collections[r].Name,text:dataDB.Options[t].Values[f].Collections[r].Name,onClick:'collectionSet("'+dataDB.Options[t].Values[f].Collections[r].Name+'")'}),e.append(h),c=$("#materialCollections"),collection=dataDB.Options[t].Values[f].Collections[0].Name,dataDB.Options[t].Values[f].Collections[r].Active&&($("#materialCollections").text(dataDB.Options[t].Values[f].Collections[r].Name),collection=dataDB.Options[t].Values[f].Collections[r].Name);else dataDB.Options[t].Values[f].Active=!1;for(priceCalculation(),u=listOfMaterials(collection),$("#imagesContainer").empty(),$(".pagination").empty(),i=0;i<u.Content.length;i++)u.Content[i].Name&&(o=$("<div>",{"class":"material-item",id:u.Content[i].Name+"-material",onClick:'changeMaterial("'+collection+","+u.Content[i].Name+","+s+","+t+","+u.Content[i].ColorCode+","+u.Content[i].Name+","+u.Content[i].Code+'")'}),l=$("<img>",{src:"assets/layout/material thumbnails/"+s+"/"+collection+"/"+u.Content[i].Name+".jpg"}),o.append(l),$("#imagesContainer").append(o));$("#imagesContainer").pagify(6,".material-item")}else{for(a=$("<div>",{"class":"dropdown float-right",id:"dropdownCollections"}),$("#dropdownColMats").append(a),c=$("<div>",{"class":"btn btn-secondary dropdown-toggle",type:"button",id:"materialCollections","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),a.append(c),e=$("<div>",{"class":"dropdown-menu",id:"collectionDropdown","aria-labelledby":"dropdownMenuButton"}),a.append(e),r=0;r<dataDB.Options[t].Values[0].Collections.length;r++)h=$("<a>",{"class":"dropdown-item d-block",href:"#",id:dataDB.Options[t].Values[0].Collections[r].Name,text:dataDB.Options[t].Values[0].Collections[r].Name,onClick:'collectionSet("'+dataDB.Options[t].Values[0].Collections[r].Name+'")'}),e.append(h),dataDB.Options[t].Values[0].Collections[r].Active&&(c.text(dataDB.Options[t].Values[0].Collections[r].Name),collection=dataDB.Options[t].Values[0].Collections[r].Name);for(u=listOfMaterials(collection),i=0;i<u.Content.length;i++)u.Content[i].Name&&(o=$("<div>",{"class":"material-item",id:u.Content[i].Name+"-material",onClick:'changeMaterial("'+collection+","+u.Content[i].Name+","+dataDB.Options[t].Values[0].Name+","+t+","+u.Content[i].ColorCode+","+u.Content[i].Name+","+u.Content[i].Code+'")'}),l=$("<img>",{src:"assets/layout/material thumbnails/Grade 1/"+collection+"/"+u.Content[i].Name+".jpg"}),o.append(l),$("#imagesContainer").append(o))}}function collectionSet(n){var s,e,t,i,f,u,r,o,h;for(collection=n,t=0;t<dataDB.Options.length;t++)for(i=0;i<dataDB.Options[t].Values.length;i++)if(dataDB.Options[t].Values[i].Code&&dataDB.Options[t].Values[i].Code.includes("grade"))for(f=0;f<dataDB.Options[t].Values[i].Collections.length;f++)dataDB.Options[t].Values[i].Collections[f].Name==n?(dataDB.Options[t].Values[i].Collections[f].Active=!0,$("#materialCollections").text(dataDB.Options[t].Values[i].Collections[f].Name),e=dataDB.Options[t].Values[i].Name,s=t):dataDB.Options[t].Values[i].Collections[f].Active=!1;for(u=listOfMaterials(collection),$(".pagination").empty(),$("#imagesContainer").empty(),r=0;r<u.Content.length;r++)u.Content[r].Name&&(o=$("<div>",{"class":"material-item",id:u.Content[r].Name+"-material",onClick:'changeMaterial("'+collection+","+u.Content[r].Name+","+e+","+s+","+u.Content[r].ColorCode+","+u.Content[r].Name+","+u.Content[r].Code+'")'}),h=$("<img>",{src:"assets/layout/material thumbnails/"+e+"/"+collection+"/"+u.Content[r].Name+".jpg"}),o.append(h),$("#imagesContainer").append(o)),$("#imagesContainer").pagify(6,".material-item")}function changeMaterial(n){for(var i,s,r,u=n.split(","),h=u[0],e=u[1],o=u[2],t=parseInt(u[3]),c=u[4],l=u[5],a=u[6],f=0;f<dataDB.Options[t].RelatedLayers.length;f++)for(i=1;i<currentMesh.length;i++)dataDB.Options[t].RelatedLayers[f]==currentMesh[i]._material.name&&(s="assets/materials/"+dataDB.Name.toLowerCase()+"/fabrics/"+o.toLowerCase()+"/"+h.toLowerCase()+"/"+e+"_"+dataDB.Options[t].RelatedLayers[f],o=="none"&&(s="assets/materials/"+dataDB.Name.toLowerCase()+"/fabrics/"+o.toLowerCase()+"/"+h.toLowerCase()+"/"+e+"_"+dataDB.Options[t].RelatedLayers[f]),s&&(currentMesh[i]._material._albedoTexture=new BABYLON.Texture(s+"_Base_Color.png",scene),currentMesh[i]._material._alpha=e.includes("Mesh")?.74:1,currentMesh[i]._material._albedoTexture.vAng=-Math.PI,currentMesh[i]._material._albedoTexture.wAng=-Math.PI),c=="null"||c=="undefined"||(currentMesh[i]._material._albedoColor=new BABYLON.Color3.FromHexString(c)));for(r=0;r<dataDB.Options[t].Values.length;r++)dataDB.Options[t].Values[r].Code==e?(dataDB.Options[t].Values[r].Active=!0,backPartNumber[dataDB.Options[t].Depth-1]=dataDB.Options[t].Values[r].PartNumber):dataDB.Options[t].Values[r].Code.includes("grade")||(dataDB.Options[t].Values[r].Active=!1),dataDB.Options[t].Values[r].Name==o&&(dataDB.FabricName=h+" - "+l,dataDB.FabricPartNumber=a)}function optionChangedOnFeature(n){var t=n.split(",");feature=t[0];option=t[1];option.includes("grade")||option.includes("color")?materialCollectionCardBuildingAndEdition():cardsResponseOnSelection();priceCalculation()}function cardsResponseOnSelection(){for(var c,i,s,e,u,f,h,r,o,t,n=0;n<dataDB.Options.length;n++){if(dataDB.Options[n].Name==feature)for(t=0;t<dataDB.Options[n].Values.length;t++)if(c=t,dataDB.Options[n].Values[t].Code==option){if(dataDB.Options[n].Values[t].Active=!0,dataDB.Options[n].Code.includes("back")&&dataDB.Options[n].Depth<dataDB.BackSize+1)for(i=0;i<dataDB.BackSize+1-dataDB.Options[n].Depth;i++){if(s=!0,i>=0)for(e=0;e<dataDB.Options[n+i].Values.length;e++)if(dataDB.Options[n+i].Values[e].Active){t=e;break}for(u=0;u<dataDB.Options[n+i+1].Values.length;u++)$.inArray(dataDB.Options[n+i+1].Values[u].Code,dataDB.Options[n+i].Values[t].Uses)>=0?(s?(dataDB.Options[n+i+1].Values[u].Active=!0,s=!1,$("#list-"+dataDB.Options[n+i+1].Values[u].Code+"-list").click(),$("#"+dataDB.Options[n+i+1].Values[u].Code+"-back-material").click()):dataDB.Options[n+i+1].Values[u].Active=!1,dataDB.Options[n+i+1].Name.includes("Color")?$("#"+dataDB.Options[n+i+1].Values[u].Code+"-back-material").show():$("#list-"+dataDB.Options[n+i+1].Values[u].Code+"-list").show()):(dataDB.Options[n+i+1].Values[u].Active=!1,dataDB.Options[n+i+1].Name.includes("Color")?$("#"+dataDB.Options[n+i+1].Values[u].Code+"-back-material").hide():$("#list-"+dataDB.Options[n+i+1].Values[u].Code+"-list").hide())}for(t=c,f=0;f<dataDB.Options[n].Values[t].Layers.length;f++)for(h=!1,dataDB.Options[n].Values[t].Layers[f].hasOwnProperty("MaterialFile")&&dataDB.Options[n].Values[t].Layers[f].MaterialFile!=null&&(h=!0),r=1;r<currentMesh.length;r++)dataDB.Options[n].Values[t].Layers[f].Layer==currentMesh[r]._material.name&&(h&&(o="assets/materials"+dataDB.Options[n].Values[t].Layers[f].MaterialFile+"_",currentMesh[r]._material._albedoTexture=dataDB.Options[n].Values[t].Code.includes("V2")?new BABYLON.Texture(o+dataDB.Options[n].Values[t].Name+"V2_Base_Color.png",scene):new BABYLON.Texture(o+dataDB.Options[n].Values[t].Name+"_Base_Color.png",scene),dataDB.Options[n].Values[t].Name.includes("Nylon")&&currentMesh[r].material.name=="Base"&&(currentMesh[r]._material._metallicTexture=null,currentMesh[r]._material.roughness=1,currentMesh[r]._material.metallic=0,currentMesh[r]._material._disableBumpMap=!0),dataDB.Options[n].Values[t].Name.includes("Aluminum")&&currentMesh[r].material.name=="Base"&&(currentMesh[r]._material._metallicTexture=new BABYLON.Texture(o+dataDB.Options[n].Values[t].Name+"_Metallic.png",scene),currentMesh[r]._material.roughness=.1,currentMesh[r]._material.metallic=1,currentMesh[r]._material._metallicTexture.vAng=-Math.PI,currentMesh[r]._material._metallicTexture.wAng=-Math.PI,currentMesh[r]._material._disableBumpMap=!0),currentMesh[r]._material._albedoTexture.vAng=-Math.PI,currentMesh[r]._material._albedoTexture.wAng=-Math.PI),dataDB.Options[n].Values[t].Layers[f].Visibility!=null&&(currentMesh[r].isVisible=dataDB.Options[n].Values[t].Layers[f].Visibility))}else dataDB.Options[n].Values[t].Active=!1;if(dataDB.Options[n].Name.includes("Back"))for(t=0;t<dataDB.Options[n].Values.length;t++)dataDB.Options[n].Values[t].Active&&(backPartNumber[dataDB.Options[n].Depth-1]=dataDB.Options[n].Values[t].PartNumber)}}var canvas=document.getElementById("wyattCanvas"),container=document.getElementById("wyattContainer"),loopOn=!1,highBackOn=!1,feature="",option="",collection="",backPartNumber=[" "],baseUrl,asyncMesh,currentMesh,productName,optionsMenu,$accordion,nOptions,$card,cardName,$cardHeader,$dropdownarrow,$cardButton,$accordionInfoContainer,$accordionInfo,$rowDivider,$backWrapper,$backFeature,$backFeatureTitle,$materialItem,$materialImage,$listGroup,nValues,selectedOption,nonSelectedOption,$featureOptions;dataDB.Name.includes("Freeride")&&(backPartNumber=["B","M","G"]);dataDB.Name.includes("Roswell")&&(backPartNumber=["B","G","M",""]);var modelNumberOfOptions=dataDB.Options.length,seatPadPrice=0,engine=new BABYLON.Engine(canvas,!0,{premultipliedAlpha:!1,preserveDrawingBuffer:!0,stencil:!0}),scene=new BABYLON.Scene(engine),camera=new BABYLON.ArcRotateCamera("Camera",0,0,0,new BABYLON.Vector3(0,0,0),scene),photoCamera,photoCameraB;camera.setTarget(BABYLON.Vector3.Zero());scene.clearColor=new BABYLON.Color3(1,1,1);var maxSize=new BABYLON.Vector3(0,0,0),meshCenter=new BABYLON.Vector3(0,0,0),createScene=function(){return BABYLON.GLTFFileLoader.IncrementalLoading=!1,baseUrl="/assets/models/",lowFile=dataDB.LowFile,BABYLON.SceneLoader.ImportMesh("",baseUrl,lowFile,scene,function(n){var f,t,i,e,r,u;for(scene.createDefaultCameraOrLight(!0,!0,!0),scene.activeCamera.panningSensibility=10,scene.activeCamera.wheelPrecision=.25,photoCamera=scene.activeCamera.clone(),photoCameraB=photoCamera.clone(),photoCameraB.alpha=Math.PI/3+Math.PI,scene.lights[0].dispose(),f=new BABYLON.HemisphericLight("light1",new BABYLON.Vector3(0,10,0),scene),f.intensity=.6,t=1;t<n.length;t++)n[t].actionManager=new BABYLON.ActionManager(scene),n[t].actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPointerOverTrigger,function(){},!1)),n[t].material&&n[t].material.bumpTexture&&(n[t].material.bumpTexture.level=1.5),n[t].position=new BABYLON.Vector3(0,0,0),i=n[t].getBoundingInfo().boundingBox.maximumWorld,i.x>maxSize.x&&(maxSize.x=i.x),i.y>maxSize.y&&(maxSize.y=i.y),i.z>maxSize.z&&(maxSize.z=i.z),meshCenter.x+=n[t].getBoundingInfo().boundingBox.centerWorld.x,meshCenter.y+=n[t].getBoundingInfo().boundingBox.centerWorld.y,meshCenter.z+=n[t].getBoundingInfo().boundingBox.centerWorld.z,n[t].isVisible=dataDB.DefaultLayers.includes(n[t].name);meshCenter.x=meshCenter.x/n.length*0;meshCenter.y=meshCenter.y/n.length;meshCenter.z=meshCenter.z/n.length;scene.activeCamera.setTarget(meshCenter);e=engine.getAspectRatio(camera);r=(maxSize.y+maxSize.x+maxSize.z)/3;scene.activeCamera.lowerRadiusLimit=r;scene.activeCamera.upperRadiusLimit=r*4;scene.activeCamera.alpha=Math.PI/2.4;scene.activeCamera.beta=7*Math.PI/16;photoCamera=scene.activeCamera.clone();u=new BABYLON.CubeTexture.CreateFromPrefilteredData("assets/environment/royalEnvHDR.dds",scene);u.gammaSpace=!0;scene.environmentTexture=u;currentMesh=n;detectmob()||(dataDB.MedFile&&asyncDownload(dataDB.MedFile),dataDB.HighFile&&asyncDownload(dataDB.HighFile))},function(n){if(n.lengthComputable){var t=(n.loaded*100/n.total).toFixed();$(".progress-bar").css("width",t+"%");$(".progress-bar").text(t+"%");t==100&&$("#LoadingScreen").fadeOut(2e3)}else dlCount=n.loaded/1048576},function(){}),scene},scene=createScene();engine.runRenderLoop(function(){window.addEventListener("resize",function(){engine.resize()});scene.render()});productName=document.getElementById("productName");productName.textContent=dataDB.Name;var totalPrice=dataDB.Price,currentOptionPrice=Array(dataDB.Options.length),productPrice=document.getElementById("productPrice"),currentOptionsPDF=null;for(priceCalculation(),optionsMenu=document.getElementById("optionsMenu"),$accordion=$("<div>",{"class":"accordion",id:"wyattAccordion"}),$("#optionsMenu").append($accordion),nOptions=0;nOptions<dataDB.Options.length;nOptions++){if($card=$("<div>",{"class":"card"}),$accordion.append($card),cardName=dataDB.Options[nOptions].Code,$cardHeader=$("<div>",{"class":"class-header",id:cardName+"Header"}),$card.append($cardHeader),$dropdownarrow=$("<span class=dropdown-menu-arrow><\/span>"),$cardHeader.append($dropdownarrow),$cardButton=$("<div>",{"class":"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#"+cardName,"aria-expanded":"true","aria-controls":cardName,text:cardName,id:cardName+"Name"}),$cardHeader.append($cardButton),$accordionInfoContainer=$("<div>",{id:cardName,"class":"collapse","aria-labelledby":cardName+"Header","data-parent":"#wyattAccordion",heightStyle:"content"}),$card.append($accordionInfoContainer),$accordionInfo=$("<div>",{"class":"card-body"}),$accordionInfoContainer.append($accordionInfo),$rowDivider=$("<div>",{"class":"row no-gutter",id:cardName+"-row"}),$accordionInfo.append($rowDivider),cardName==="back"&&($backWrapper=$("<div>",{id:"backWrapper",style:"width:100%,"}),$rowDivider.append($backWrapper)),cardName.includes("back"))if($cardButton.text(dataDB.Options[nOptions].Name),cardName.includes("color"))for($backFeature=$("<div>",{id:"backFeatureWrapper-"+cardName,style:"margin: 0 1%; width: 100%; display: flow-root"}),$backWrapper.append($backFeature),$backFeatureTitle=$("<h5>",{id:"backFeatureTitle-"+cardName,text:dataDB.Options[nOptions].Description,style:"text-align: center; margin: 1% 0;font-weight: bold;"}),$backFeature.append($backFeatureTitle),nValues=0;nValues<dataDB.Options[nOptions].Values.length;nValues++)$materialItem=$("<div>",{"class":"material-item",id:dataDB.Options[nOptions].Values[nValues].Code+"-back-material",onClick:'changeMaterial("back,'+dataDB.Options[nOptions].Values[nValues].Code+",none,"+nOptions+",null,"+dataDB.Options[nOptions].Values[nValues].PartNumber+'")',style:"float: left; margin: 2% 1%; width:"+90/4+"%;"}),$backFeature.append($materialItem),$materialImage=$("<img>",{src:"assets/layout/material thumbnails/"+dataDB.Name+"/"+dataDB.Options[nOptions].Name+"/"+dataDB.Options[nOptions].Values[nValues].Code+".jpg",style:"width: 90%"}),$materialItem.append($materialImage),dataDB.Options[nOptions].Values[nValues].Show||$materialItem.hide();else for(dataDB.Options[nOptions].Code=="back-headrest"?($backFeature=$("<div>",{id:"backFeatureWrapper-"+cardName,style:"float: left; margin: 0 1%; width: 96%"}),$backWrapper.append($backFeature)):($backFeature=$("<div>",{id:"backFeatureWrapper-"+cardName,style:"float: left; margin: 0 1%; width:"+(100-2*dataDB.BackSize)/dataDB.BackSize+"%"}),$backWrapper.append($backFeature)),$backFeatureTitle=$("<h5>",{id:"backFeatureTitle-"+cardName,text:dataDB.Options[nOptions].Description,style:"text-align: center; margin: 1% 0; font-weight: bold;"}),$backFeature.append($backFeatureTitle),$listGroup=$("<div>",{"class":"list-group list-group-flush",id:"listTab",role:"tablist"}),$backFeature.append($listGroup),nValues=0;nValues<dataDB.Options[nOptions].Values.length;nValues++)dataDB.Options[nOptions].Values[nValues].Active?(selectedOption=dataDB.Options[nOptions].Values[nValues].Code,$featureOptions=$("<a>",{"class":"list-group-item list-group-item-action active",id:"list-"+selectedOption+"-list","data-toggle":"list",href:"#list-"+selectedOption,role:"tab","aria-controls":selectedOption,onClick:'optionChangedOnFeature("'+dataDB.Options[nOptions].Name+","+selectedOption+'")',text:dataDB.Options[nOptions].Values[nValues].Name})):(nonSelectedOption=dataDB.Options[nOptions].Values[nValues].Code,$featureOptions=$("<a>",{"class":"list-group-item list-group-item-action",id:"list-"+nonSelectedOption+"-list","data-toggle":"list",href:"#list-"+nonSelectedOption,role:"tab","aria-controls":nonSelectedOption,onClick:'optionChangedOnFeature("'+dataDB.Options[nOptions].Name+","+nonSelectedOption+'")',text:dataDB.Options[nOptions].Values[nValues].Name}),dataDB.Options[nOptions].Values[nValues].Show||$featureOptions.hide()),(selectedOption=="HighbackVin"||nonSelectedOption=="HighbackVin")&&$featureOptions.text("Vinyl"),$listGroup.append($featureOptions),nValues>0&&$.inArray(dataDB.Options[nOptions].Values[nValues-1].Name,dataDB.Options[nOptions].Values[nValues].Uses);if(cardName.includes("back-"))$("#"+cardName+"Header").parent().remove();else if(cardName.includes("grade")||cardName.includes("back")){if(cardName.includes("grade")){var $baseRow=$("<div>",{"class":"row no-gutter",id:"gradesBaseRow"}),$baseFilterRow=$("<div>",{"class":"row no-gutter",id:"gradesFilterRow"}),$dropdownColGrades=$("<div>",{"class":"col",id:"dropdownColGrades"}),$dropdownColMats=$("<div>",{"class":"col",id:"dropdownColMats"}),$imagesContainer=$("<div>",{"class":"row no-gutter",id:"imagesContainer"}),$SeatCoverRow=$("<div>",{"class":"row no-gutter",id:"seatCoverRow",style:"height: 0vh;"}),$SeatCoverCheckbox=$("<input>",{"class":"form-check-input",type:"checkbox",value:"",id:"coverCheck",onclick:"seatCover()"}),$SeatCoverLabel=$("<label>",{"class":"form-check-label","for":"coverCheck",text:"Removable Seat Cover:"});$rowDivider.append($baseFilterRow);$rowDivider.append($baseRow);$baseFilterRow.append($dropdownColGrades);$baseFilterRow.append($dropdownColMats);$baseRow.append($SeatCoverRow);$SeatCoverRow.append($SeatCoverCheckbox);$SeatCoverRow.append($SeatCoverLabel);$baseRow.append($imagesContainer);materialStructureBuilding(nOptions);$cardButton.text(dataDB.Options[nOptions].Name);$("#seatCoverRow")[0].hidden=!0}}else for($listGroup=$("<div>",{"class":"list-group list-group-flush",id:"listTab",role:"tablist"}),$rowDivider.append($listGroup),nValues=0;nValues<dataDB.Options[nOptions].Values.length;nValues++)dataDB.Options[nOptions].Values[nValues].Active?(selectedOption=dataDB.Options[nOptions].Values[nValues].Code,$featureOptions=$("<a>",{"class":"list-group-item list-group-item-action active",id:"list-"+selectedOption+"-list","data-toggle":"list",href:"#list-"+selectedOption,role:"tab","aria-controls":selectedOption,onClick:'optionChangedOnFeature("'+dataDB.Options[nOptions].Name+","+selectedOption+'")',text:dataDB.Options[nOptions].Values[nValues].Name}),$cardButton.text(dataDB.Options[nOptions].Name)):(nonSelectedOption=dataDB.Options[nOptions].Values[nValues].Code,$featureOptions=$("<a>",{"class":"list-group-item list-group-item-action",id:"list-"+nonSelectedOption+"-list","data-toggle":"list",href:"#list-"+nonSelectedOption,role:"tab","aria-controls":nonSelectedOption,onClick:'optionChangedOnFeature("'+dataDB.Options[nOptions].Name+","+nonSelectedOption+'")',text:dataDB.Options[nOptions].Values[nValues].Name}),$cardButton.text(dataDB.Options[nOptions].Name)),$listGroup.append($featureOptions)}(function(n){var t={items:{},container:null,totalPages:1,perPage:3,currentPage:0,createNavigation:function(){var i,t,r,f,u;for(this.totalPages=Math.ceil(this.items.length/this.perPage),n(".pagination",this.container.parent()).remove(),i=n('<div class="pagination"><\/div>').append('<a class="nav prev disabled" data-next="false"><<\/a>'),t=0;t<this.totalPages;t++)r="page",t||(r="page current"),f='<a class="'+r+'" data-page="'+(t+1)+'">'+(t+1)+"<\/a>",i.append(f);i.append('<a class="nav next" data-next="true">><\/a>');this.container.after(i);u=this;n("body").off("click",".nav");this.navigator=n("body").on("click",".nav",function(){var t=n(this);u.navigate(t.data("next"))});n("body").off("click",".page");this.pageNavigator=n("body").on("click",".page",function(){var t=n(this);u.goToPage(t.data("page"))})},navigate:function(t){(isNaN(t)||t===undefined)&&(t=!0);n(".pagination .nav").removeClass("disabled");t?(this.currentPage++,this.currentPage>this.totalPages-1&&(this.currentPage=this.totalPages-1),this.currentPage==this.totalPages-1&&n(".pagination .nav.next").addClass("disabled")):(this.currentPage--,this.currentPage<0&&(this.currentPage=0),this.currentPage==0&&n(".pagination .nav.prev").addClass("disabled"));this.showItems()},updateNavigation:function(){var t=n(".pagination .page");t.removeClass("current");n('.pagination .page[data-page="'+(this.currentPage+1)+'"]').addClass("current")},goToPage:function(t){this.currentPage=t-1;n(".pagination .nav").removeClass("disabled");this.currentPage==this.totalPages-1&&n(".pagination .nav.next").addClass("disabled");this.currentPage==0&&n(".pagination .nav.prev").addClass("disabled");this.showItems()},showItems:function(){this.items.hide();var n=this.perPage*this.currentPage;this.items.slice(n,n+this.perPage).show();this.updateNavigation()},init:function(n,t,i){this.container=n;this.currentPage=0;this.totalPages=1;this.perPage=i;this.items=t;this.createNavigation();this.showItems()}};n.fn.pagify=function(i,r){var u=n(this),f=n(r,u);if((isNaN(i)||i===undefined)&&(i=3),f.length<=i)return!0;t.init(u,f,i)}})(jQuery);$("#imagesContainer").pagify(6,".material-item");